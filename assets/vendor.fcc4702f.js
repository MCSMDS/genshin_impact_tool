var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,a=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,s=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&a(e,r,t[r]);if(n)for(var r of n(t))i.call(t,r)&&a(e,r,t[r]);return e},c=(e,n)=>t(e,r(n));function l(){}const u=e=>e;function f(e,t){for(const r in t)e[r]=t[r];return e}function d(e){return e()}function h(){return Object.create(null)}function p(e){e.forEach(d)}function g(e){return"function"==typeof e}function m(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function b(e,t,r){e.$$.on_destroy.push(function(e,...t){if(null==e)return l;const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}(t,r))}function y(e){const t={};for(const r in e)"$"!==r[0]&&(t[r]=e[r]);return t}function w(e){return null==e?"":e}function v(e,t,r=t){return e.set(r),t}const A="undefined"!=typeof window;let E=A?()=>window.performance.now():()=>Date.now(),S=A?e=>requestAnimationFrame(e):l;const x=new Set;function O(e){x.forEach((t=>{t.c(e)||(x.delete(t),t.f())})),0!==x.size&&S(O)}function P(e,t){e.appendChild(t)}function I(e,t,r){e.insertBefore(t,r||null)}function j(e){e.parentNode.removeChild(e)}function L(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function D(e){return document.createElement(e)}function C(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function k(e){return document.createTextNode(e)}function R(){return k(" ")}function B(){return k("")}function T(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function F(e){return function(t){return t.preventDefault(),e.call(this,t)}}function M(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function U(e,t){for(const r in t)M(e,r,t[r])}function N(e){return""===e?null:+e}function $(e){return Array.from(e.childNodes)}function G(e,t,r,n){for(let o=0;o<e.length;o+=1){const n=e[o];if(n.nodeName===t){let t=0;const i=[];for(;t<n.attributes.length;){const e=n.attributes[t++];r[e.name]||i.push(e.name)}for(let e=0;e<i.length;e++)n.removeAttribute(i[e]);return e.splice(o,1)[0]}}return n?C(t):D(t)}function Q(e,t){for(let r=0;r<e.length;r+=1){const n=e[r];if(3===n.nodeType)return n.data=""+t,e.splice(r,1)[0]}return k(t)}function _(e){return Q(e," ")}function W(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function z(e,t){e.value=null==t?"":t}function H(e,t,r){e.classList[r?"add":"remove"](t)}let V;function q(e){V=e}function Y(e,t){const r=e.$$.callbacks[t.type];r&&r.slice().forEach((e=>e(t)))}const J=[],K=[],X=[],Z=[],ee=Promise.resolve();let te=!1;function re(e){X.push(e)}let ne=!1;const oe=new Set;function ie(){if(!ne){ne=!0;do{for(let e=0;e<J.length;e+=1){const t=J[e];q(t),ae(t.$$)}for(q(null),J.length=0;K.length;)K.pop()();for(let e=0;e<X.length;e+=1){const t=X[e];oe.has(t)||(oe.add(t),t())}X.length=0}while(J.length);for(;Z.length;)Z.pop()();te=!1,ne=!1,oe.clear()}}function ae(e){if(null!==e.fragment){e.update(),p(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(re)}}const se=new Set;let ce;function le(){ce={r:0,c:[],p:ce}}function ue(){ce.r||p(ce.c),ce=ce.p}function fe(e,t){e&&e.i&&(se.delete(e),e.i(t))}function de(e,t,r,n){if(e&&e.o){if(se.has(e))return;se.add(e),ce.c.push((()=>{se.delete(e),n&&(r&&e.d(1),n())})),e.o(t)}}function he(e,t){const r={},n={},o={$$scope:1};let i=e.length;for(;i--;){const a=e[i],s=t[i];if(s){for(const e in a)e in s||(n[e]=1);for(const e in s)o[e]||(r[e]=s[e],o[e]=1);e[i]=s}else for(const e in a)o[e]=1}for(const a in n)a in r||(r[a]=void 0);return r}function pe(e){e&&e.c()}function ge(e,t){e&&e.l(t)}function me(e,t,r,n){const{fragment:o,on_mount:i,on_destroy:a,after_update:s}=e.$$;o&&o.m(t,r),n||re((()=>{const t=i.map(d).filter(g);a?a.push(...t):p(t),e.$$.on_mount=[]})),s.forEach(re)}function be(e,t){const r=e.$$;null!==r.fragment&&(p(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function ye(e,t){-1===e.$$.dirty[0]&&(J.push(e),te||(te=!0,ee.then(ie)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function we(e,t,r,n,o,i,a=[-1]){const s=V;q(e);const c=e.$$={fragment:null,ctx:null,props:i,update:l,not_equal:o,bound:h(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:t.context||[]),callbacks:h(),dirty:a,skip_bound:!1};let u=!1;if(c.ctx=r?r(e,t.props||{},((t,r,...n)=>{const i=n.length?n[0]:r;return c.ctx&&o(c.ctx[t],c.ctx[t]=i)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](i),u&&ye(e,t)),r})):[],c.update(),u=!0,p(c.before_update),c.fragment=!!n&&n(c.ctx),t.target){if(t.hydrate){const e=$(t.target);c.fragment&&c.fragment.l(e),e.forEach(j)}else c.fragment&&c.fragment.c();t.intro&&fe(e.$$.fragment),me(e,t.target,t.anchor,t.customElement),ie()}q(s)}class ve{$destroy(){be(this,1),this.$destroy=l}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var Ae="[big.js] ",Ee=Ae+"Invalid ",Se=Ee+"decimal places",xe={},Oe=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Pe(e,t,r,n){var o=e.c;if(undefined===r&&(r=e.constructor.RM),0!==r&&1!==r&&2!==r&&3!==r)throw Error("[big.js] Invalid rounding mode");if(t<1)n=3===r&&(n||!!o[0])||0===t&&(1===r&&o[0]>=5||2===r&&(o[0]>5||5===o[0]&&(n||undefined!==o[1]))),o.length=1,n?(e.e=e.e-t+1,o[0]=1):o[0]=e.e=0;else if(t<o.length){if(n=1===r&&o[t]>=5||2===r&&(o[t]>5||5===o[t]&&(n||undefined!==o[t+1]||1&o[t-1]))||3===r&&(n||!!o[0]),o.length=t--,n)for(;++o[t]>9;)o[t]=0,t--||(++e.e,o.unshift(1));for(t=o.length;!o[--t];)o.pop()}return e}function Ie(e,t,r){var n=e.e,o=e.c.join(""),i=o.length;if(t)o=o.charAt(0)+(i>1?"."+o.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)o="0"+o;o="0."+o}else if(n>0)if(++n>i)for(n-=i;n--;)o+="0";else n<i&&(o=o.slice(0,n)+"."+o.slice(n));else i>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&r?"-"+o:o}xe.abs=function(){var e=new this.constructor(this);return e.s=1,e},xe.cmp=function(e){var t,r=this,n=r.c,o=(e=new r.constructor(e)).c,i=r.s,a=e.s,s=r.e,c=e.e;if(!n[0]||!o[0])return n[0]?i:o[0]?-a:0;if(i!=a)return i;if(t=i<0,s!=c)return s>c^t?1:-1;for(a=(s=n.length)<(c=o.length)?s:c,i=-1;++i<a;)if(n[i]!=o[i])return n[i]>o[i]^t?1:-1;return s==c?0:s>c^t?1:-1},xe.div=function(e){var t=this,r=t.constructor,n=t.c,o=(e=new r(e)).c,i=t.s==e.s?1:-1,a=r.DP;if(a!==~~a||a<0||a>1e6)throw Error(Se);if(!o[0])throw Error("[big.js] Division by zero");if(!n[0])return e.s=i,e.c=[e.e=0],e;var s,c,l,u,f,d=o.slice(),h=s=o.length,p=n.length,g=n.slice(0,s),m=g.length,b=e,y=b.c=[],w=0,v=a+(b.e=t.e-e.e)+1;for(b.s=i,i=v<0?0:v,d.unshift(0);m++<s;)g.push(0);do{for(l=0;l<10;l++){if(s!=(m=g.length))u=s>m?1:-1;else for(f=-1,u=0;++f<s;)if(o[f]!=g[f]){u=o[f]>g[f]?1:-1;break}if(!(u<0))break;for(c=m==s?o:d;m;){if(g[--m]<c[m]){for(f=m;f&&!g[--f];)g[f]=9;--g[f],g[m]+=10}g[m]-=c[m]}for(;!g[0];)g.shift()}y[w++]=u?l:++l,g[0]&&u?g[m]=n[h]||0:g=[n[h]]}while((h++<p||undefined!==g[0])&&i--);return y[0]||1==w||(y.shift(),b.e--,v--),w>v&&Pe(b,v,r.RM,undefined!==g[0]),b},xe.eq=function(e){return 0===this.cmp(e)},xe.gt=function(e){return this.cmp(e)>0},xe.gte=function(e){return this.cmp(e)>-1},xe.lt=function(e){return this.cmp(e)<0},xe.lte=function(e){return this.cmp(e)<1},xe.minus=xe.sub=function(e){var t,r,n,o,i=this,a=i.constructor,s=i.s,c=(e=new a(e)).s;if(s!=c)return e.s=-c,i.plus(e);var l=i.c.slice(),u=i.e,f=e.c,d=e.e;if(!l[0]||!f[0])return f[0]?e.s=-c:l[0]?e=new a(i):e.s=1,e;if(s=u-d){for((o=s<0)?(s=-s,n=l):(d=u,n=f),n.reverse(),c=s;c--;)n.push(0);n.reverse()}else for(r=((o=l.length<f.length)?l:f).length,s=c=0;c<r;c++)if(l[c]!=f[c]){o=l[c]<f[c];break}if(o&&(n=l,l=f,f=n,e.s=-e.s),(c=(r=f.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;r>s;){if(l[--r]<f[r]){for(t=r;t&&!l[--t];)l[t]=9;--l[t],l[r]+=10}l[r]-=f[r]}for(;0===l[--c];)l.pop();for(;0===l[0];)l.shift(),--d;return l[0]||(e.s=1,l=[d=0]),e.c=l,e.e=d,e},xe.mod=function(e){var t,r=this,n=r.constructor,o=r.s,i=(e=new n(e)).s;if(!e.c[0])throw Error("[big.js] Division by zero");return r.s=e.s=1,t=1==e.cmp(r),r.s=o,e.s=i,t?new n(r):(o=n.DP,i=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=o,n.RM=i,this.minus(r.times(e)))},xe.plus=xe.add=function(e){var t,r,n,o=this,i=o.constructor;if(e=new i(e),o.s!=e.s)return e.s=-e.s,o.minus(e);var a=o.e,s=o.c,c=e.e,l=e.c;if(!s[0]||!l[0])return l[0]||(s[0]?e=new i(o):e.s=o.s),e;if(s=s.slice(),t=a-c){for(t>0?(c=a,n=l):(t=-t,n=s),n.reverse();t--;)n.push(0);n.reverse()}for(s.length-l.length<0&&(n=l,l=s,s=n),t=l.length,r=0;t;s[t]%=10)r=(s[--t]=s[t]+l[t]+r)/10|0;for(r&&(s.unshift(r),++c),t=s.length;0===s[--t];)s.pop();return e.c=s,e.e=c,e},xe.pow=function(e){var t=this,r=new t.constructor("1"),n=r,o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(Ee+"exponent");for(o&&(e=-e);1&e&&(n=n.times(t)),e>>=1;)t=t.times(t);return o?r.div(n):n},xe.prec=function(e,t){if(e!==~~e||e<1||e>1e6)throw Error(Ee+"precision");return Pe(new this.constructor(this),e,t)},xe.round=function(e,t){if(undefined===e)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(Se);return Pe(new this.constructor(this),e+this.e+1,t)},xe.sqrt=function(){var e,t,r,n=this,o=n.constructor,i=n.s,a=n.e,s=new o("0.5");if(!n.c[0])return new o(n);if(i<0)throw Error(Ae+"No square root");0===(i=Math.sqrt(n+""))||i===1/0?((t=n.c.join("")).length+a&1||(t+="0"),a=((a+1)/2|0)-(a<0||1&a),e=new o(((i=Math.sqrt(t))==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+a)):e=new o(i+""),a=e.e+(o.DP+=4);do{r=e,e=s.times(r.plus(n.div(r)))}while(r.c.slice(0,a).join("")!==e.c.slice(0,a).join(""));return Pe(e,(o.DP-=4)+e.e+1,o.RM)},xe.times=xe.mul=function(e){var t,r=this,n=r.constructor,o=r.c,i=(e=new n(e)).c,a=o.length,s=i.length,c=r.e,l=e.e;if(e.s=r.s==e.s?1:-1,!o[0]||!i[0])return e.c=[e.e=0],e;for(e.e=c+l,a<s&&(t=o,o=i,i=t,l=a,a=s,s=l),t=new Array(l=a+s);l--;)t[l]=0;for(c=s;c--;){for(s=0,l=a+c;l>c;)s=t[l]+i[c]*o[l-c-1]+s,t[l--]=s%10,s=s/10|0;t[l]=s}for(s?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},xe.toExponential=function(e,t){var r=this,n=r.c[0];if(undefined!==e){if(e!==~~e||e<0||e>1e6)throw Error(Se);for(r=Pe(new r.constructor(r),++e,t);r.c.length<e;)r.c.push(0)}return Ie(r,!0,!!n)},xe.toFixed=function(e,t){var r=this,n=r.c[0];if(undefined!==e){if(e!==~~e||e<0||e>1e6)throw Error(Se);for(e=e+(r=Pe(new r.constructor(r),e+r.e+1,t)).e+1;r.c.length<e;)r.c.push(0)}return Ie(r,!1,!!n)},xe.toJSON=xe.toString=function(){var e=this,t=e.constructor;return Ie(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},xe.toNumber=function(){var e=Number(Ie(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(Ae+"Imprecise conversion");return e},xe.toPrecision=function(e,t){var r=this,n=r.constructor,o=r.c[0];if(undefined!==e){if(e!==~~e||e<1||e>1e6)throw Error(Ee+"precision");for(r=Pe(new n(r),e,t);r.c.length<e;)r.c.push(0)}return Ie(r,e<=r.e||r.e<=n.NE||r.e>=n.PE,!!o)},xe.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(Ae+"valueOf disallowed");return Ie(e,e.e<=t.NE||e.e>=t.PE,!0)};var je=function e(){function t(r){var n=this;if(!(n instanceof t))return undefined===r?e():new t(r);if(r instanceof t)n.s=r.s,n.e=r.e,n.c=r.c.slice();else{if("string"!=typeof r){if(!0===t.strict)throw TypeError(Ee+"number");r=0===r&&1/r<0?"-0":String(r)}!function(e,t){var r,n,o;if(!Oe.test(t))throw Error(Ee+"number");e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".",""));(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length);for(o=t.length,n=0;n<o&&"0"==t.charAt(n);)++n;if(n==o)e.c=[e.e=0];else{for(;o>0&&"0"==t.charAt(--o););for(e.e=r-n-1,e.c=[],r=0;n<=o;)e.c[r++]=+t.charAt(n++)}}(n,r)}n.constructor=t}return t.prototype=xe,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=false,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}(),Le="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},De={exports:{}};!function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(C){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),a=new j(n||[]);return i._invoke=function(e,t,r){var n=f;return function(o,i){if(n===h)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return D()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=O(a,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var c=u(e,t,r);if("normal"===c.type){if(n=r.done?p:d,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=p,r.method="throw",r.arg=c.arg)}}}(e,r,a),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(C){return{type:"throw",arg:C}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",g={};function m(){}function b(){}function y(){}var w={};w[i]=function(){return this};var v=Object.getPrototypeOf,A=v&&v(v(L([])));A&&A!==r&&n.call(A,i)&&(w=A);var E=y.prototype=m.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,i,a,s){var c=u(e[o],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function O(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=u(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function L(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:D}}function D(){return{value:t,done:!0}}return b.prototype=E.constructor=y,y.constructor=b,b.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},S(x.prototype),x.prototype[a]=function(){return this},e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),c(E,s,"Generator"),E[i]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}(De.exports);try{regeneratorRuntime=t}catch(r){Function("r","regeneratorRuntime = r")(t)}}();var Ce=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`;const ke=Ce;let Re=0;var Be=({id:e,action:t,payload:r={}})=>{let n=e;return void 0===n&&(n=ke("Job",Re),Re+=1),{id:n,action:t,payload:r}},Te={};let Fe=!1;Te.logging=Fe,Te.setLogging=e=>{Fe=e},Te.log=(...e)=>Fe?console.log.apply(void 0,e):null;const Me=Be,{log:Ue}=Te,Ne=Ce;let $e=0;const Ge=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)};var Qe={exports:{}};Qe.exports=function(){function e(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments[0],1===e)return t.href;var r=document.getElementsByTagName("head")[0];r.insertBefore(t,r.firstChild);for(var n,o=document.createElement("a"),i=1;i<e;i++)o.href=arguments[i],n=o.href,t.href=n;return r.removeChild(t),n}return e}();const _e="browser"===(e=>{const t={};return"undefined"!=typeof WorkerGlobalScope?t.type="webworker":"object"==typeof window?t.type="browser":Ge()?t.type="electron":"object"==typeof process&&"function"==typeof require&&(t.type="node"),void 0===e?t:t[e]})("type")?Qe.exports:e=>e;var We={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};var ze={defaultOEM:We.DEFAULT};var He={name:"tesseract.js",version:"2.1.4",description:"Pure Javascript Multilingual OCR",main:"src/index.js",types:"src/index.d.ts",unpkg:"dist/tesseract.min.js",jsdelivr:"dist/tesseract.min.js",scripts:{start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},browser:{"./src/worker/node/index.js":"./src/worker/browser/index.js"},author:"",contributors:["jeromewu"],license:"Apache-2.0",devDependencies:{"@babel/core":"^7.7.7","@babel/preset-env":"^7.7.7",acorn:"^6.4.0","babel-loader":"^8.1.0",cors:"^2.8.5",eslint:"^7.2.0","eslint-config-airbnb-base":"^14.2.0","eslint-plugin-import":"^2.22.1","expect.js":"^0.3.1",express:"^4.17.1",mocha:"^8.1.3","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^2.7.1","wait-on":"^3.3.0",webpack:"^4.44.2","webpack-bundle-analyzer":"^3.6.0","webpack-cli":"^3.3.12","webpack-dev-middleware":"^3.7.2"},dependencies:{"blueimp-load-image":"^3.0.0","bmp-js":"^0.1.0","file-type":"^12.4.1","idb-keyval":"^3.2.0","is-electron":"^2.2.0","is-url":"^1.2.4","jpeg-autorotate":"^7.1.1","node-fetch":"^2.6.0","opencollective-postinstall":"^2.0.2","regenerator-runtime":"^0.13.3","resolve-url":"^0.2.1","tesseract.js-core":"^2.2.0",zlibjs:"^0.3.1"},repository:{type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs:{url:"https://github.com/naptha/tesseract.js/issues"},homepage:"https://github.com/naptha/tesseract.js",collective:{type:"opencollective",url:"https://opencollective.com/tesseractjs"}};const Ve=Qe.exports,{version:qe,dependencies:Ye}=He;var Je,Ke=c(s({},{langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}}),{workerPath:"undefined"!=typeof process&&"development"==={}.TESS_ENV?Ve(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`):`https://unpkg.com/tesseract.js@v${qe}/dist/worker.min.js`,corePath:`https://unpkg.com/tesseract.js-core@v${Ye["tesseract.js-core"].substring(1)}/tesseract-core.${"object"==typeof WebAssembly?"wasm":"asm"}.js`}),Xe={exports:{}};Je=Xe,function(e){function t(e,r,n){var o,i=document.createElement("img");function a(r,a){a&&console.log(a),r&&t.isInstanceOf("Blob",r)?(e=r,o=t.createObjectURL(e)):(o=e,n&&n.crossOrigin&&(i.crossOrigin=n.crossOrigin)),i.src=o}return i.onerror=function(a){return t.onerror(i,a,e,o,r,n)},i.onload=function(a){return t.onload(i,a,e,o,r,n)},"string"==typeof e?(t.hasMetaOption(n)?t.fetchBlob(e,a,n):a(),i):t.isInstanceOf("Blob",e)||t.isInstanceOf("File",e)?(o=t.createObjectURL(e))?(i.src=o,i):t.readFile(e,(function(e){var t=e.target;t&&t.result?i.src=t.result:r&&r(e)})):void 0}var r=e.createObjectURL&&e||e.URL&&URL.revokeObjectURL&&URL||e.webkitURL&&webkitURL;function n(e,r){!e||"blob:"!==e.slice(0,5)||r&&r.noRevoke||t.revokeObjectURL(e)}t.hasMetaOption=function(e){return e&&e.meta},t.fetchBlob=function(e,t){t()},t.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},t.transform=function(e,t,r,n,o){r(e,o)},t.onerror=function(e,t,r,o,i,a){n(o,a),i&&i.call(e,t)},t.onload=function(e,r,o,i,a,s){n(i,s),a&&t.transform(e,s,a,o,{originalWidth:e.naturalWidth||e.width,originalHeight:e.naturalHeight||e.height})},t.createObjectURL=function(e){return!!r&&r.createObjectURL(e)},t.revokeObjectURL=function(e){return!!r&&r.revokeObjectURL(e)},t.readFile=function(t,r,n){if(e.FileReader){var o=new FileReader;if(o.onload=o.onerror=r,o[n=n||"readAsDataURL"])return o[n](t),o}return!1},Je.exports?Je.exports=t:e.loadImage=t}("undefined"!=typeof window&&window||Le);var Ze,et,tt={exports:{}};Ze=tt.exports?Xe.exports:window.loadImage,et=Ze.transform,Ze.transform=function(e,t,r,n,o){et.call(Ze,Ze.scale(e,t,o),t,r,n,o)},Ze.transformCoordinates=function(){},Ze.getTransformedOptions=function(e,t){var r,n,o,i,a=t.aspectRatio;if(!a)return t;for(n in r={},t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.crop=!0,(o=e.naturalWidth||e.width)/(i=e.naturalHeight||e.height)>a?(r.maxWidth=i*a,r.maxHeight=i):(r.maxWidth=o,r.maxHeight=o/a),r},Ze.renderImageToCanvas=function(e,t,r,n,o,i,a,s,c,l,u){var f=e.getContext("2d");return!1===u.imageSmoothingEnabled?f.imageSmoothingEnabled=!1:u.imageSmoothingQuality&&(f.imageSmoothingQuality=u.imageSmoothingQuality),f.drawImage(t,r,n,o,i,a,s,c,l),e},Ze.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},Ze.scale=function(e,t,r){t=t||{};var n,o,i,a,s,c,l,u,f,d,h,p=document.createElement("canvas"),g=e.getContext||Ze.hasCanvasOption(t)&&p.getContext,m=e.naturalWidth||e.width,b=e.naturalHeight||e.height,y=m,w=b;function v(){var e=Math.max((i||y)/y,(a||w)/w);e>1&&(y*=e,w*=e)}function A(){var e=Math.min((n||y)/y,(o||w)/w);e<1&&(y*=e,w*=e)}if(g&&(l=(t=Ze.getTransformedOptions(e,t,r)).left||0,u=t.top||0,t.sourceWidth?(s=t.sourceWidth,void 0!==t.right&&void 0===t.left&&(l=m-s-t.right)):s=m-l-(t.right||0),t.sourceHeight?(c=t.sourceHeight,void 0!==t.bottom&&void 0===t.top&&(u=b-c-t.bottom)):c=b-u-(t.bottom||0),y=s,w=c),n=t.maxWidth,o=t.maxHeight,i=t.minWidth,a=t.minHeight,g&&n&&o&&t.crop?(y=n,w=o,(h=s/c-n/o)<0?(c=o*s/n,void 0===t.top&&void 0===t.bottom&&(u=(b-c)/2)):h>0&&(s=n*c/o,void 0===t.left&&void 0===t.right&&(l=(m-s)/2))):((t.contain||t.cover)&&(i=n=n||i,a=o=o||a),t.cover?(A(),v()):(v(),A())),g){if((f=t.pixelRatio)>1&&(p.style.width=y+"px",p.style.height=w+"px",y*=f,w*=f,p.getContext("2d").scale(f,f)),(d=t.downsamplingRatio)>0&&d<1&&y<s&&w<c)for(;s*d>y;)p.width=s*d,p.height=c*d,Ze.renderImageToCanvas(p,e,l,u,s,c,0,0,p.width,p.height,t),l=0,u=0,s=p.width,c=p.height,(e=document.createElement("canvas")).width=s,e.height=c,Ze.renderImageToCanvas(e,p,0,0,s,c,0,0,s,c,t);return p.width=y,p.height=w,Ze.transformCoordinates(p,t),Ze.renderImageToCanvas(p,e,l,u,s,c,0,0,y,w,t)}return e.width=y,e.height=w,e};var rt={exports:{}};!function(e){var t="undefined"!=typeof Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[],65517:[]}},e.parseMetaData=function(t,r,n,o){o=o||{};var i=this,a=(n=n||{}).maxMetaDataSize||262144;"undefined"!=typeof DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice&&e.readFile(e.blobSlice.call(t,0,a),(function(t){if(t.target.error)return console.log(t.target.error),void r(o);var a,s,c,l,u=t.target.result,f=new DataView(u),d=2,h=f.byteLength-4,p=d;if(65496===f.getUint16(0)){for(;d<h&&((a=f.getUint16(d))>=65504&&a<=65519||65534===a);){if(d+(s=f.getUint16(d+2)+2)>f.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if((c=e.metaDataParsers.jpeg[a])&&!n.disableMetaDataParsers)for(l=0;l<c.length;l+=1)c[l].call(i,f,d,s,o,n);p=d+=s}!n.disableImageHead&&p>6&&(u.slice?o.imageHead=u.slice(0,p):o.imageHead=new Uint8Array(u).subarray(0,p))}else console.log("Invalid JPEG file: Missing JPEG marker.");r(o)}),"readAsArrayBuffer")||r(o)},e.replaceHead=function(t,r,n){e.parseMetaData(t,(function(o){n(new Blob([r,e.blobSlice.call(t,o.imageHead.byteLength)],{type:"image/jpeg"}))}),{maxMetaDataSize:256,disableMetaDataParsers:!0})};var r=e.transform;e.transform=function(t,n,o,i,a){e.hasMetaOption(n)?e.parseMetaData(i,(function(a){r.call(e,t,n,o,i,a)}),n,a):r.apply(e,arguments)}}(rt.exports?Xe.exports:window.loadImage);!function(e){"undefined"!=typeof fetch&&"undefined"!=typeof Request?e.fetchBlob=function(e,t,r){fetch(new Request(e,r)).then((function(e){return e.blob()})).then(t).catch((function(e){t(null,e)}))}:"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof ProgressEvent&&(e.fetchBlob=function(e,t,r){r=r||{};var n=new XMLHttpRequest;n.open(r.method||"GET",e),r.headers&&Object.keys(r.headers).forEach((function(e){n.setRequestHeader(e,r.headers[e])})),n.withCredentials="include"===r.credentials,n.responseType="blob",n.onload=function(){t(n.response)},n.onerror=n.onabort=n.ontimeout=function(e){t(null,e)},n.send(r.body)})}({}?Xe.exports:window.loadImage);var nt={exports:{}};!function(e){function t(e){e&&(Object.defineProperty(this,"map",{value:this.privateIFDs[e].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[e]||{}}))}t.prototype.map={Orientation:274,Thumbnail:513,Exif:34665,GPSInfo:34853,Interoperability:40965},t.prototype.privateIFDs={34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},t.prototype.get=function(e){return this[e]||this[this.map[e]]};var r={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,r){return e.getUint16(t,r)},size:2},4:{getValue:function(e,t,r){return e.getUint32(t,r)},size:4},5:{getValue:function(e,t,r){return e.getUint32(t,r)/e.getUint32(t+4,r)},size:8},9:{getValue:function(e,t,r){return e.getInt32(t,r)},size:4},10:{getValue:function(e,t,r){return e.getInt32(t,r)/e.getInt32(t+4,r)},size:8}};function n(e,t,n,o,i,a){var s,c,l,u,f,d,h=r[o];if(h){if(!((c=(s=h.size*i)>4?t+e.getUint32(n+8,a):n+8)+s>e.byteLength)){if(1===i)return h.getValue(e,c,a);for(l=[],u=0;u<i;u+=1)l[u]=h.getValue(e,c+u*h.size,a);if(h.ascii){for(f="",u=0;u<l.length&&"\0"!==(d=l[u]);u+=1)f+=d;return f}return l}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")}function o(e,t,r,o,i,a,s,c){var l,u,f,d,h,p;if(r+6>e.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((u=r+2+12*(l=e.getUint16(r,o)))+4>e.byteLength)){for(f=0;f<l;f+=1)d=r+2+12*f,h=e.getUint16(d,o),s&&!s[h]||c&&!0===c[h]||(p=n(e,t,d,e.getUint16(d+2,o),e.getUint32(d+4,o),o),i[h]=p,a&&(a[h]=d));return e.getUint32(u,o)}console.log("Invalid Exif data: Invalid directory size.")}}r[7]=r[1],e.parseExifData=function(e,r,n,i,a){if(!a.disableExif){var s,c,l=a.includeExifTags,u=a.excludeExifTags||{34665:{37500:!0}},f=r+10;if(1165519206===e.getUint32(r+4))if(f+8>e.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===e.getUint16(r+8)){switch(e.getUint16(f)){case 18761:s=!0;break;case 19789:s=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===e.getUint16(f+2,s)?(c=e.getUint32(f+4,s),i.exif=new t,a.disableExifOffsets||(i.exifOffsets=new t,i.exifTiffOffset=f,i.exifLittleEndian=s),(c=o(e,f,f+c,s,i.exif,i.exifOffsets,l,u))&&!a.disableExifThumbnail&&(c=o(e,f,f+c,s,i.exif,i.exifOffsets,l,u),i.exif[513]&&i.exif[514]&&(i.exif[513]=function(e,t,r){if(r&&!(t+r>e.byteLength))return new Blob([e.buffer.slice(t,t+r)],{type:"image/jpeg"});console.log("Invalid Exif data: Invalid thumbnail data.")}(e,f+i.exif[513],i.exif[514]))),Object.keys(i.exif.privateIFDs).forEach((function(r){!function(e,r,n,i,a,s,c){var l=e.exif[r];l&&(e.exif[r]=new t(r),e.exifOffsets&&(e.exifOffsets[r]=new t(r)),o(n,i,i+l,a,e.exif[r],e.exifOffsets&&e.exifOffsets[r],s&&s[r],c&&c[r]))}(i,r,e,f,s,l,u)}))):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},e.metaDataParsers.jpeg[65505].push(e.parseExifData),e.exifWriters={274:function(e,t,r){return new DataView(e,t.exifOffsets[274]+8,2).setUint16(0,r,t.exifLittleEndian),e}},e.writeExifData=function(t,r,n,o){e.exifWriters[r.exif.map[n]](t,r,o)},e.ExifMap=t}(nt.exports?Xe.exports:window.loadImage);!function(e){var t=e.ExifMap.prototype;t.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},t.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},t.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},t.getAll=function(){var e,t,r,n={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&((t=this[e])&&t.getAll?n[this.privateIFDs[e].name]=t.getAll():(r=this.tags[e])&&(n[r]=this.getText(r)));return n},t.getName=function(e){var t=this.tags[e];return"object"==typeof t?this.privateIFDs[e].name:t},function(){var e,r,n,o=t.tags;for(e in o)if(Object.prototype.hasOwnProperty.call(o,e))if(r=t.privateIFDs[e])for(e in n=o[e])Object.prototype.hasOwnProperty.call(n,e)&&(r.map[n[e]]=Number(e));else t.map[o[e]]=Number(e)}()}({}?Xe.exports:window.loadImage);var ot={exports:{}};!function(e){function t(){}function r(e,t,r,n,o){return"binary"===t.types[e]?new Blob([r.buffer.slice(n,n+o)]):"Uint16"===t.types[e]?r.getUint16(n):function(e,t,r){for(var n="",o=t+r,i=t;i<o;i+=1)n+=String.fromCharCode(e.getUint8(i));return n}(r,n,o)}function n(e,t){return void 0===e?t:e instanceof Array?(e.push(t),e):[e,t]}function o(e,t,o,i,a,s){for(var c,l,u,f=t+o,d=t;d<f;)28===e.getUint8(d)&&2===e.getUint8(d+1)&&(u=e.getUint8(d+2),a&&!a[u]||s&&s[u]||(l=e.getInt16(d+3),c=r(u,i.iptc,e,d+5,l),i.iptc[u]=n(i.iptc[u],c),i.iptcOffsets&&(i.iptcOffsets[u]=d))),d+=1}function i(e,t){return 943868237===e.getUint32(t)&&1028===e.getUint16(t+4)}function a(e,t){var r=e.getUint8(t+7);return r%2!=0&&(r+=1),0===r&&(r=4),r}t.prototype.map={ObjectName:5},t.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},t.prototype.get=function(e){return this[e]||this[this.map[e]]},e.parseIptcData=function(e,r,n,s,c){if(!c.disableIptc)for(var l=r+n;r+8<l;){if(i(e,r)){var u=a(e,r),f=r+8+u;if(f>l){console.log("Invalid IPTC data: Invalid segment offset.");break}var d=e.getUint16(r+6+u);if(r+d>l){console.log("Invalid IPTC data: Invalid segment size.");break}return s.iptc=new t,c.disableIptcOffsets||(s.iptcOffsets=new t),void o(e,f,d,s,c.includeIptcTags,c.excludeIptcTags||{202:!0})}r+=1}},e.metaDataParsers.jpeg[65517].push(e.parseIptcData),e.IptcMap=t}(ot.exports?Xe.exports:window.loadImage);!function(e){var t=e.IptcMap.prototype;t.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},t.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},t.getText=function(e){var t=this.get(e),r=this.map[e],n=this.stringValues[r];return n?n[t]:String(t)},t.getAll=function(){var e,t,r={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&(t=this.tags[e])&&(r[t]=this.getText(t));return r},t.getName=function(e){return this.tags[e]},function(){var e,r=t.tags,n=t.map||{};for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[r[e]]=Number(e))}()}({}?Xe.exports:window.loadImage);!function(e){var t,r=e.hasCanvasOption,n=e.hasMetaOption,o=e.transformCoordinates,i=e.getTransformedOptions;(t=document.createElement("img")).onload=function(){e.orientation=1===t.width&&2===t.height},t.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",e.hasCanvasOption=function(t){return 1==!!t.orientation&&!e.orientation||t.orientation>1&&t.orientation<9||r.call(e,t)},e.hasMetaOption=function(t){return t&&!0===t.orientation&&!e.orientation||n.call(e,t)},e.transformCoordinates=function(t,r){o.call(e,t,r);var n=t.getContext("2d"),i=t.width,a=t.height,s=t.style.width,c=t.style.height,l=r.orientation;if(l>1&&l<9)switch(l>4&&(t.width=a,t.height=i,t.style.width=c,t.style.height=s),l){case 2:n.translate(i,0),n.scale(-1,1);break;case 3:n.translate(i,a),n.rotate(Math.PI);break;case 4:n.translate(0,a),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-a);break;case 7:n.rotate(.5*Math.PI),n.translate(i,-a),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-i,0)}},e.getTransformedOptions=function(t,r,n){var o,a,s=i.call(e,t,r),c=s.orientation;if(!0===c){if(e.orientation)return s;c=n&&n.exif&&n.exif.get("Orientation")}if(!(c>1&&c<9))return s;for(a in o={},s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a]);switch(o.orientation=c,c){case 2:o.left=s.right,o.right=s.left;break;case 3:o.left=s.right,o.top=s.bottom,o.right=s.left,o.bottom=s.top;break;case 4:o.top=s.bottom,o.bottom=s.top;break;case 5:o.left=s.top,o.top=s.left,o.right=s.bottom,o.bottom=s.right;break;case 6:o.left=s.top,o.top=s.right,o.right=s.bottom,o.bottom=s.left;break;case 7:o.left=s.bottom,o.top=s.right,o.right=s.top,o.bottom=s.left;break;case 8:o.left=s.bottom,o.top=s.left,o.right=s.top,o.bottom=s.right}return o.orientation>4&&(o.maxWidth=s.maxHeight,o.maxHeight=s.maxWidth,o.minWidth=s.minHeight,o.minHeight=s.minWidth,o.sourceWidth=s.sourceHeight,o.sourceHeight=s.sourceWidth),o}}({}?Xe.exports:window.loadImage);const it=Qe.exports,at=Xe.exports,st=e=>new Promise(((t,r)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=({target:{error:{code:e}}})=>{r(Error(`File could not be read! Code=${e}`))},n.readAsArrayBuffer(e)})),ct=e=>new Promise((t=>{at(e,(e=>e.toBlob(t)),{orientation:!0,canvas:!0})})),lt=async e=>{let t=e;if(void 0===e)return"undefined";if("string"==typeof e)if(e.endsWith(".pbm")){const r=await fetch(it(e));t=await r.arrayBuffer()}else{let r=e;/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)||(r=it(e)),t=await st(await ct(r))}else if(e instanceof HTMLElement)"IMG"===e.tagName&&(t=await lt(e.src)),"VIDEO"===e.tagName&&(t=await lt(e.poster)),"CANVAS"===e.tagName&&await new Promise((r=>{e.toBlob((async e=>{t=await st(e),r()}))}));else if(e instanceof File||e instanceof Blob){let r=e;e.name.endsWith(".pbm")||(r=await ct(r)),t=await st(r)}return new Uint8Array(t)};var ut={defaultOptions:Ke,spawnWorker:({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const t=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(t))}else r=new Worker(e);return r},terminateWorker:e=>{e.terminate()},onMessage:(e,t)=>{e.onmessage=({data:e})=>{t(e)}},send:async(e,t)=>{e.postMessage(t)},loadImage:lt};const ft=e=>{const t=s({},e);return["corePath","workerPath","langPath"].forEach((r=>{void 0!==e[r]&&(t[r]=_e(t[r]))})),t},dt=e=>{const t=[],r=[],n=[],o=[],i=[];return e.blocks.forEach((a=>{a.paragraphs.forEach((t=>{t.lines.forEach((r=>{r.words.forEach((n=>{n.symbols.forEach((o=>{i.push(c(s({},o),{page:e,block:a,paragraph:t,line:r,word:n}))})),o.push(c(s({},n),{page:e,block:a,paragraph:t,line:r}))})),n.push(c(s({},r),{page:e,block:a,paragraph:t}))})),r.push(c(s({},t),{page:e,block:a}))})),t.push(c(s({},a),{page:e}))})),c(s({},e),{blocks:t,paragraphs:r,lines:n,words:o,symbols:i})},ht=Be,{log:pt}=Te,gt=Ce,{defaultOEM:mt}=ze,{defaultOptions:bt,spawnWorker:yt,terminateWorker:wt,onMessage:vt,loadImage:At,send:Et}=ut;let St=0;var xt=(e={})=>{const t=gt("Worker",St),r=ft(s(s({},bt),e)),{logger:a,errorHandler:l}=r,u=((e,t)=>{var r={};for(var a in e)o.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&n)for(var a of n(e))t.indexOf(a)<0&&i.call(e,a)&&(r[a]=e[a]);return r})(r,["logger","errorHandler"]),f={},d={};let h=yt(u);St+=1;const p=(e,t)=>{f[e]=t},g=(e,t)=>{d[e]=t},m=({id:e,action:r,payload:n})=>new Promise(((o,i)=>{pt(`[${t}]: Start ${e}, action=${r}`),p(r,o),g(r,i),Et(h,{workerId:t,jobId:e,action:r,payload:n})}));return vt(h,(({workerId:e,jobId:t,status:r,action:n,data:o})=>{if("resolve"===r){pt(`[${e}]: Complete ${t}`);let r=o;"recognize"===n?r=dt(o):"getPDF"===n&&(r=Array.from(c(s({},o),{length:Object.keys(o).length}))),f[n]({jobId:t,data:r})}else if("reject"===r){if(d[n](o),!l)throw Error(o);l(o)}else"progress"===r&&a(o)})),{id:t,worker:h,setResolve:p,setReject:g,load:e=>m(ht({id:e,action:"load",payload:{options:u}})),writeText:(e,t,r)=>m(ht({id:r,action:"FS",payload:{method:"writeFile",args:[e,t]}})),readText:(e,t)=>m(ht({id:t,action:"FS",payload:{method:"readFile",args:[e,{encoding:"utf8"}]}})),removeFile:(e,t)=>m(ht({id:t,action:"FS",payload:{method:"unlink",args:[e]}})),FS:(e,t,r)=>m(ht({id:r,action:"FS",payload:{method:e,args:t}})),loadLanguage:(e="eng",t)=>m(ht({id:t,action:"loadLanguage",payload:{langs:e,options:u}})),initialize:(e="eng",t=mt,r)=>m(ht({id:r,action:"initialize",payload:{langs:e,oem:t}})),setParameters:(e={},t)=>m(ht({id:t,action:"setParameters",payload:{params:e}})),recognize:async(e,t={},r)=>m(ht({id:r,action:"recognize",payload:{image:await At(e),options:t}})),getPDF:(e="Tesseract OCR Result",t=!1,r)=>m(ht({id:r,action:"getPDF",payload:{title:e,textonly:t}})),detect:async(e,t)=>m(ht({id:t,action:"detect",payload:{image:await At(e)}})),terminate:async()=>(null!==h&&(wt(h),h=null),Promise.resolve())}};const Ot=xt;const Pt=()=>{const e=Ne("Scheduler",$e),t={},r={};let n=[];$e+=1;const o=()=>Object.keys(t).length,i=()=>{if(0!==n.length){const e=Object.keys(t);for(let o=0;o<e.length;o+=1)if(void 0===r[e[o]]){n[0](t[e[o]]);break}}};return{addWorker:r=>(t[r.id]=r,Ue(`[${e}]: Add ${r.id}`),Ue(`[${e}]: Number of workers=${o()}`),i(),r.id),addJob:async(t,...a)=>{if(0===o())throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return((t,o)=>new Promise(((a,s)=>{const c=Me({action:t,payload:o});n.push((async e=>{n.shift(),r[e.id]=c;try{a(await e[t].apply(void 0,[...o,c.id]))}catch(l){s(l)}finally{delete r[e.id],i()}})),Ue(`[${e}]: Add ${c.id} to JobQueue`),Ue(`[${e}]: JobQueue length=${n.length}`),i()})))(t,a)},terminate:async()=>{Object.keys(t).forEach((async e=>{await t[e].terminate()})),n=[]},getQueueLen:()=>n.length,getNumWorkers:o}},It=xt,jt={recognize:async(e,t,r)=>{const n=Ot(r);return await n.load(),await n.loadLanguage(t),await n.initialize(t),n.recognize(e).finally((async()=>{await n.terminate()}))},detect:async(e,t)=>{const r=Ot(t);return await r.load(),await r.loadLanguage("osd"),await r.initialize("osd"),r.detect(e).finally((async()=>{await r.terminate()}))}},Lt=We,Dt={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12"},{setLogging:Ct}=Te;var kt=s({OEM:Lt,PSM:Dt,createScheduler:Pt,createWorker:It,setLogging:Ct},jt);const Rt=[];function Bt(e,t=l){let r;const n=[];function o(t){if(m(e,t)&&(e=t,r)){const t=!Rt.length;for(let r=0;r<n.length;r+=1){const t=n[r];t[1](),Rt.push(t,e)}if(t){for(let e=0;e<Rt.length;e+=2)Rt[e][0](Rt[e+1]);Rt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(i,a=l){const s=[i,a];return n.push(s),1===n.length&&(r=t(o)||l),i(e),()=>{const e=n.indexOf(s);-1!==e&&n.splice(e,1),0===n.length&&(r(),r=null)}}}}function Tt(e){const t=e-1;return t*t*t+1}function Ft(e){return"[object Date]"===Object.prototype.toString.call(e)}function Mt(e,t){if(e===t||e!=e)return()=>e;const r=typeof e;if(r!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map(((t,r)=>Mt(e[r],t)));return e=>r.map((t=>t(e)))}if("object"===r){if(!e||!t)throw new Error("Object cannot be null");if(Ft(e)&&Ft(t)){e=e.getTime();const r=(t=t.getTime())-e;return t=>new Date(e+t*r)}const r=Object.keys(t),n={};return r.forEach((r=>{n[r]=Mt(e[r],t[r])})),e=>{const t={};return r.forEach((r=>{t[r]=n[r](e)})),t}}if("number"===r){const r=t-e;return t=>e+t*r}throw new Error(`Cannot interpolate ${r} values`)}function Ut(e,t={}){const r=Bt(e);let n,o=e;function i(i,a){if(null==e)return r.set(e=i),Promise.resolve();o=i;let s=n,c=!1,{delay:l=0,duration:d=400,easing:h=u,interpolate:p=Mt}=f(f({},t),a);if(0===d)return s&&(s.abort(),s=null),r.set(e=o),Promise.resolve();const g=E()+l;let m;return n=function(e){let t;return 0===x.size&&S(O),{promise:new Promise((r=>{x.add(t={c:e,f:r})})),abort(){x.delete(t)}}}((t=>{if(t<g)return!0;c||(m=p(e,i),"function"==typeof d&&(d=d(e,i)),c=!0),s&&(s.abort(),s=null);const n=t-g;return n>d?(r.set(e=i),!1):(r.set(e=m(h(n/d))),!0)})),n.promise}return{set:i,update:(t,r)=>i(t(o,e),r),subscribe:r.subscribe}}export{z as A,je as B,T as C,p as D,b as E,pe as F,ge as G,me as H,g as I,F as J,fe as K,de as L,be as M,Y as N,K as O,v as P,N as Q,le as R,ve as S,ue as T,H as U,w as V,f as a,C as b,G as c,$ as d,j as e,M as f,U as g,I as h,we as i,P as j,he as k,y as l,D as m,l as n,Q as o,B as p,R as q,_ as r,m as s,k as t,W as u,L as v,kt as w,Ut as x,Bt as y,Tt as z};
